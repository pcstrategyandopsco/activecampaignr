% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sync.R
\name{ac_sync_deals}
\alias{ac_sync_deals}
\title{Incremental Deal Sync}
\usage{
ac_sync_deals(
  lookback_days = 5,
  ttl_minutes = 10,
  force = FALSE,
  include_custom_fields = TRUE,
  .progress = NULL
)
}
\arguments{
\item{lookback_days}{Number of days to look back for incremental sync
(default: 5)}

\item{ttl_minutes}{Cache time-to-live in minutes (default: 10)}

\item{force}{If \code{TRUE}, bypasses cache and fetches everything}

\item{include_custom_fields}{If \code{TRUE}, also fetches custom fields
in wide format (default: \code{TRUE})}

\item{.progress}{Optional progressr callback}
}
\value{
A list with \verb{$deals} (tibble) and optionally \verb{$custom_fields}
(tibble)
}
\description{
Fetches deals from ActiveCampaign with intelligent caching:
\enumerate{
\item If the cache is fresh (within TTL), returns cached data
\item If stored data exists, performs incremental sync (recent changes only)
\item Otherwise, performs a full sync
}
}
\examples{
\dontrun{
result <- ac_sync_deals()
deals <- result$deals

# Force full refresh
result <- ac_sync_deals(force = TRUE)
}
}
